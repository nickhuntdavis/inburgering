<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KNM Dutch Flashcards</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
          <div class="controls-row top-controls">
          <label>
            Category
            <div class="multi-select" id="categoryMulti">
              <button id="categoryDropdownToggle" class="secondary" type="button" aria-haspopup="listbox" aria-expanded="false">All categories</button>
              <div id="categoryDropdown" class="dropdown-panel" role="listbox" aria-multiselectable="true"></div>
            </div>
          </label>

          <label>
            Show
            <select id="knownFilterSelect">
              <option value="unknown">Unknown only</option>
              <option value="all">All cards</option>
              <option value="known">Known only</option>
              <option value="hard">Hard only</option>
            </select>
          </label>

            <button id="shuffleBtn" class="secondary" title="Shuffle (S)">Shuffle</button>
            <button id="resetKnownBtn" class="danger" title="Reset known">Reset Known</button>
        </div>
      </header>

      <main>
        <section class="stage">
          <div id="card" class="card" tabindex="0" role="button" aria-label="Flashcard; press Space to flip">
            <div class="inner" id="cardInner">
              <div class="side front" id="cardFront">
                <div class="term" id="term">‚Äî</div>
                <div class="meta">
                  <span id="categoryChip" class="chip"></span>
                  <span id="subcategoryChip" class="chip subtle"></span>
                </div>
              </div>
              <div class="side back" id="cardBack">
                <div class="definition" id="definition">‚Äî</div>
                <div class="context-hint" id="contextHint"></div>
              </div>
            </div>
          </div>
          <canvas id="confettiCanvas" class="confetti" aria-hidden="true"></canvas>
        </section>

        <section class="actions">
          <div class="action-row">
            <div class="left">
              <button id="hardBtn" class="btn hard" title="Hard (2)">Hard</button>
            </div>
            <div class="center">
              <button id="prevBtn" class="btn secondary" title="Back (‚Üê)">Back</button>
              <button id="goodBtn" class="btn good" title="Know it (3 or K)">Know it</button>
              <button id="nextBtn" class="btn secondary" title="Next (N)">Next</button>
            </div>
            <div class="right">
              <button id="speakBtn" class="btn tertiary" title="Listen (P)">üîä Listen</button>
              <button id="flagBtn" class="icon-btn small" title="Notice a mistake or opportunity for improvement? Please click here to let me know!" aria-label="Flag an issue">
                <span class="flag-icon" aria-hidden="true"></span>
              </button>
            </div>
          </div>
          <button id="unmarkBtn" class="btn tertiary" title="Make Unknown (U)">Make Unknown</button>
        </section>

        <section class="progress">
          <div class="progress-bar">
            <div id="progressFill" class="fill"></div>
          </div>
          <div class="stats" id="categoryStats">
            <span id="countRemainingCat">0</span> left ‚Ä¢
            Known: <span id="countKnownCat">0</span> ‚Ä¢
            Total: <span id="countTotalCat">0</span>
          </div>
          <div class="stats">
            <span id="countRemaining">0</span> left ‚Ä¢
            Known: <span id="countKnown">0</span> ‚Ä¢
            Total: <span id="countTotal">0</span>
          </div>
        </section>

        <section class="avatar">
          <img id="avatarImg" class="avatar-img" alt="Progress character" />
          <div id="avatarCaption" class="avatar-caption"></div>
        </section>

        <div id="milestoneToast" class="toast" role="status" aria-live="polite"></div>

        <section class="help">
          <details>
            <summary>Keyboard shortcuts</summary>
            <ul>
              <li>Flip: Space / ‚Üë</li>
              <li>Next: ‚Üí ‚Ä¢ Back: ‚Üê</li>
              <li>Hard: H</li>
              <li>Know it: ‚Üì / K</li>
              <li>Shuffle: S</li>
              <li>Listen: L</li>
            </ul>
          </details>
        </section>
      </main>

      <footer>
        Uses cookies to save your progress.
      </footer>
      <button id="modeToggle" class="mode-toggle" title="Toggle theme" aria-label="Toggle theme">üåô</button>
      <!-- Suggestion Modal -->
      <div id="suggestModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="suggestTitle">
        <div class="modal-card">
          <div class="modal-header">
            <h2 id="suggestTitle">Suggest a correction</h2>
            <button id="suggestClose" class="icon-btn small" aria-label="Close">‚úï</button>
          </div>
          <div class="modal-body">
            <div class="form-row">
              <label>Slug
                <input id="sugSlug" type="text" readonly />
              </label>
            </div>
            <div class="form-row three">
              <label>Front
                <textarea id="sugFront" rows="2"></textarea>
              </label>
              <label>Back
                <textarea id="sugBack" rows="2"></textarea>
              </label>
              <label>Description
                <textarea id="sugDesc" rows="3"></textarea>
              </label>
            </div>
            <div class="form-row">
              <label>Name
                <input id="sugName" type="text" placeholder="If you'd like to grab some credit, let me know who you are (optional)" />
              </label>
            </div>
            <div class="form-row">
              <label>Anything else?
                <div id="sugNotes" class="rtarea" contenteditable="true" aria-multiline="true"></div>
              </label>
            </div>
            <div class="hint">Please edit at least one field or write something in ‚ÄúAnything else?‚Äù</div>
          </div>
          <div class="modal-footer">
            <button id="suggestCancel" class="btn tertiary">Cancel</button>
            <button id="suggestSubmit" class="btn good" disabled>Submit</button>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
  </html>


